{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h1>MQTT Dokumentasjon</h1>

    <div class="card mt-4">
        <div class="card-header">
            <h5>Tilkoblingsinformasjon</h5>
        </div>
        <div class="card-body">
            <p><strong>Broker:</strong> {{ mqtt_host }}</p>
            <p><strong>Port:</strong> 1883 (MQTT), 9001 (WebSocket)</p>
            <p><strong>QoS:</strong> 1 (minst én levering)</p>
        </div>
    </div>

    <div class="card mt-4">
        <div class="card-header">
            <h5>Emner og Meldingsformat</h5>
        </div>
        <div class="card-body">
            <h6>Spillstart</h6>
            <pre><code>Emne: games/chess/start
Format: {
    "board_id": "Brett-001",
    "rfid_white": "abc123",
    "rfid_black": "xyz789",
    "mode": "blitz",
    "time_limit": 300
}</code></pre>

            <h6>Trekk</h6>
            <pre><code>Emne: games/chess/move
Format: {
    "board_id": "Brett-001",
    "game_id": "123",
    "rfid": "abc123",
    "move": "e2e4"
}</code></pre>

            <h6>Gi Opp</h6>
            <pre><code>Emne: games/chess/forfeit
Format: {
    "board_id": "Brett-001",
    "game_id": "123",
    "rfid": "abc123"
}</code></pre>

            <h6>Remis</h6>
            <pre><code>Emne: games/chess/remis
Format: {
    "board_id": "Brett-001",
    "game_id": "123",
    "rfid": "abc123"
}</code></pre>
        </div>
    </div>

    <div class="card mt-4">
        <div class="card-header">
            <h5>Feilsøking</h5>
        </div>
        <div class="card-body">
            <h6>Vanlige Problemer</h6>
            <ul>
                <li>Sjekk at brettet er koblet til riktig WiFi-nettverk</li>
                <li>Verifiser at MQTT-broker er tilgjengelig</li>
                <li>Kontroller at RFID-brikken er registrert i systemet</li>
                <li>Se etter feilmeldinger i Node-RED-debuggeren</li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}
