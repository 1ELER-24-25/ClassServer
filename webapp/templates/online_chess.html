{% extends "base.html" %}

{% block title %}Virtuelt Sjakkbrett - ClassServer{% endblock %}

{% block page_stylesheets %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/retro.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chessboard-1.0.0.min.css') }}">
{% endblock %}

{% block extra_head %}
{# Scripts moved to bottom, keeping extra_head for potential future use #}
{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h5>Virtuelt Sjakkbrett</h5>
                </div>
                <div class="card-body">
                    <div id="board" style="width: 100%"></div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h5>Spillkontroller</h5>
                </div>
                <div class="card-body">
                    <select id="gameMode" class="form-select mb-3">
                        <option value="casual">Uformelt</option>
                        <option value="blitz">Lynsjakk</option>
                        <option value="classical">Klassisk</option>
                    </select>
                    <div class="d-grid gap-2">
                        <button id="btnStart" class="btn btn-success">Start Spill</button>
                        <button id="btnForfeit" class="btn btn-danger">Gi Opp</button>
                        <button id="btnDraw" class="btn btn-warning">Tilby Remis</button>
                    </div>
                </div>
            </div>
            <div class="card mt-3">
                <div class="card-header">
                    <h5>Spillinformasjon</h5>
                </div>
                <div class="card-body">
                    <p>Brett-ID: <span id="boardId">{{ board_id }}</span></p>
                    <p>Status: <span id="gameStatus">Venter p√• start</span></p>
                    <p>Tid Hvit: <span id="whiteTime">--:--</span></p>
                    <p>Tid Sort: <span id="blackTime">--:--</span></p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
{{ super() }} {# Include Bootstrap JS from base #}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{{ url_for('static', filename='js/chess.js') }}"></script>
<script src="{{ url_for('static', filename='js/chessboard-1.0.0.min.js') }}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js"></script>
{% endblock %}
